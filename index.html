<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ø²ÙŠØªÙƒ | Ù…Ø­Ø§ÙƒÙŠ Ø²ÙŠÙˆØª Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø°ÙƒÙŠ</title>

<style>
body {
  font-family: Tahoma, Arial;
  background: #f2f2f2;
  padding: 20px;
}
.container {
  background: #ffffff;
  padding: 20px;
  border-radius: 10px;
  max-width: 450px;
  margin: auto;
}
h2 { text-align: center; }
select, button {
  width: 100%;
  padding: 12px;
  margin-top: 10px;
  font-size: 16px;
}
button {
  background: #0a7cff;
  color: #fff;
  border: none;
  cursor: pointer;
}
.compare {
  background: #444;
}
.whatsapp {
  background: #25D366;
}
.card {
  margin-top: 15px;
  background: #f9f9f9;
  padding: 15px;
  border-radius: 6px;
}
.footer {
  margin-top: 20px;
  text-align: center;
  font-size: 13px;
  color: #666;
}
</style>
</head>

<body>

<div class="container">
  <h2>ğŸ”§ Ù…Ø­Ø§ÙƒÙŠ Ø²ÙŠØªÙƒ Ø§Ù„Ø°ÙƒÙŠ</h2>

  <select id="brand">
    <option value="Mitsubishi">Mitsubishi</option>
    <option value="Toyota">Toyota</option>
    <option value="Hyundai">Hyundai</option>
  </select>

  <select id="engine">
    <option value="Ø¨Ù†Ø²ÙŠÙ†">Ø¨Ù†Ø²ÙŠÙ†</option>
  </select>

  <select id="clientType">
    <option value="individual">ÙØ±Ø¯</option>
    <option value="workshop">ÙˆØ±Ø´Ø©</option>
    <option value="distributor">Ù…ÙˆØ²Ø¹</option>
  </select>

  <button onclick="runMCP()">Ø§Ø¹Ø±Ù Ø§Ù„Ø²ÙŠØª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨</button>
  <button class="compare" onclick="compareOils()">Ù‚Ø§Ø±Ù† Ø§Ù„Ø²ÙŠÙˆØª</button>

  <div id="result"></div>

  <button id="waBtn" class="whatsapp" style="display:none;" onclick="openWhatsApp()">
    ØªÙˆØ§ØµÙ„ ÙˆØ§ØªØ³Ø§Ø¨ Ù„Ù„Ø·Ù„Ø¨
  </button>

  <div class="footer">
    Ø²ÙŠØªÙƒ â€“ Smart Oil Simulator | Ù†Ø³Ø®Ø© ØªØ¬Ø§Ø±ÙŠØ©
  </div>
</div>

<script>
/* ======================
   DATABASE
====================== */
const oils = [
  {
    car: "Mitsubishi",
    engine: "Ø¨Ù†Ø²ÙŠÙ†",
    oilBrand: "Shell",
    product: "Helix HX7",
    viscosity: "10W-40",
    liters: 4,
    wholesale: 420
  },
  {
    car: "Mitsubishi",
    engine: "Ø¨Ù†Ø²ÙŠÙ†",
    oilBrand: "Total",
    product: "Quartz 7000",
    viscosity: "10W-40",
    liters: 4,
    wholesale: 395
  },
  {
    car: "Toyota",
    engine: "Ø¨Ù†Ø²ÙŠÙ†",
    oilBrand: "Castrol",
    product: "GTX",
    viscosity: "10W-40",
    liters: 4,
    wholesale: 410
  }
];

let lastResult = null;

/* ======================
   TOOLS
====================== */
function priceCalc(w, type) {
  if (type === "distributor") return w;
  if (type === "workshop") return Math.round(w * 1.15);
  return Math.round(w * 1.25);
}

/* ======================
   MCP RUN
====================== */
function runMCP() {
  const brand = brandEl().value;
  const engine = engineEl().value;
  const client = clientEl().value;

  const match = oils.find(o => o.car === brand && o.engine === engine);

  const box = resultEl();
  box.innerHTML = "";

  if (!match) {
    box.innerText = "Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙˆØµÙŠØ© Ø­Ø§Ù„ÙŠØ§Ù‹ Ù„Ù‡Ø°Ù‡ Ø§Ù„Ø³ÙŠØ§Ø±Ø©.";
    return;
  }

  const price = priceCalc(match.wholesale, client);
  lastResult = { brand, engine, price, oil: match };

  box.innerHTML = `
    <div class="card">
      <strong>Ø§Ù„Ø²ÙŠØª Ø§Ù„Ø£Ù†Ø³Ø¨:</strong><br>
      ${match.oilBrand} ${match.product}<br><br>
      Ø§Ù„Ù„Ø²ÙˆØ¬Ø©: ${match.viscosity}<br>
      Ø§Ù„ÙƒÙ…ÙŠØ©: ${match.liters} Ù„ØªØ±<br>
      Ø§Ù„Ø³Ø¹Ø±: ${price} Ø¬Ù†ÙŠÙ‡<br>
    </div>
  `;

  document.getElementById("waBtn").style.display = "block";
}

/* ======================
   COMPARISON
====================== */
function compareOils() {
  const brand = brandEl().value;
  const engine = engineEl().value;
  const client = clientEl().value;

  const options = oils.filter(o => o.car === brand && o.engine === engine);
  const box = resultEl();
  box.innerHTML = "";

  if (options.length < 2) {
    box.innerText = "Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø£ÙƒØ«Ø± Ù…Ù† Ø®ÙŠØ§Ø± Ù„Ù„Ù…Ù‚Ø§Ø±Ù†Ø©.";
    return;
  }

  options.forEach(o => {
    const p = priceCalc(o.wholesale, client);
    box.innerHTML += `
      <div class="card">
        ${o.oilBrand} ${o.product}<br>
        ${o.viscosity} â€“ ${p} Ø¬Ù†ÙŠÙ‡
      </div>
    `;
  });
}

/* ======================
   WHATSAPP
====================== */
function openWhatsApp() {
  if (!lastResult) return;

  const msg = `
Ø·Ù„Ø¨ Ø²ÙŠØª Ø³ÙŠØ§Ø±Ø©:
Ø§Ù„Ø³ÙŠØ§Ø±Ø©: ${lastResult.brand}
Ø§Ù„Ù…ÙˆØªÙˆØ±: ${lastResult.engine}
Ø§Ù„Ø²ÙŠØª: ${lastResult.oil.oilBrand} ${lastResult.oil.product}
Ø§Ù„Ø³Ø¹Ø±: ${lastResult.price} Ø¬Ù†ÙŠÙ‡
  `;
  const phone = "201019388501";
  const url = `https://wa.me/${phone}?text=${encodeURIComponent(msg)}`;
  window.open(url, "_blank");
}

/* ======================
   HELPERS
====================== */
const brandEl = () => document.getElementById("brand");
const engineEl = () => document.getElementById("engine");
const clientEl = () => document.getElementById("clientType");
const resultEl = () => document.getElementById("result");
</script>

</body>
</html>
